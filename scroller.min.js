!function(e,t,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd?define(o):t[e]=o()}("Scroller",this,function(){function e(t){this.el=t,this._x=e.scroll.x(t),this._y=e.scroll.y(t),this._xdir=0,this._ydir=0,this.capturing=!1}var t,o,r=[];return Element.prototype.addEventListener?(t=function(e,t){e.addEventListener("scroll",t),r.push({handler:t})},o=function(e,t){if(t)e.removeEventListener("scroll",t);else for(var o=0,n=r.length;n>o;o++){var i=r[o];e.removeEventListener("scroll",i.handler)}}):(t=function(e,t){function o(o){o.target=o.srcElement,o.currentTarget=e,t.call(e,o)}e.attachEvent("onscroll",o),r.push({handler:t,wrapper:o})},o=function(e,t){if(t)for(var o=0,n=r.length;n>o;o++){var i=r[o];if(i.handler==t){this.detachEvent("onscroll",i.wrapper),r.splice(o,1);break}}else for(;r.length;){var i=r.pop();this.detachEvent("onscroll",i.wrapper)}}),e.scroll={x:function(t,o){if(!arguments.length)return void 0!==window.scrollX?window.scrollX:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;if("number"==typeof t){var r=t;t=o,o=r}return void 0===t&&(t=window),void 0===o?t===window?e.scroll.x():t.scrollLeft:(t===window?window.scrollTo(o,e.scroll.y()):t.scrollLeft=o,void 0)},y:function(t,o){if(!arguments.length)return void 0!==window.scrollY?window.scrollY:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if("number"==typeof t){var r=t;t=o,o=r}return void 0===t&&(t=window),void 0===o?t===window?e.scroll.y():t.scrollTop:(t===window?window.scrollTo(e.scroll.x(),o):t.scrollTop=o,void 0)}},e.prototype={capture:function(o){var r=this,n=this.el,i=e.scroll.x,l=e.scroll.y;return this._x=i(n),this._y=l(n),t(this.el,function(){var e=r._x,t=r._y;r._x=i(n),r._y=l(n),r._xdir=r._x-e,r._ydir=r._y-t,o(n,r._x,r._y,r._xdir,r._ydir)}),this.capturing=!0,this},release:function(){return this.capturing&&o(this.el),this.capturing=!1,this},x:function(t){return"number"==typeof t?(e.scroll.x(this.el,t),this):e.scroll.x(this.el)},y:function(t){return"number"==typeof t?(e.scroll.y(this.el,t),this):e.scroll.y(this.el)},xdir:function(){return this._xdir},ydir:function(){return this._ydir}},e});