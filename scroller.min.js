!function(t,o,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):o[t]=e()}("Scroller",this,function(){function t(t,o,e){var r=null;return function(){function n(){r=null,t.apply(i.args)}var i=e||this;clearTimeout(r),r=setTimeout(n,o)}}function o(t,e){this.el=t,this._x=o.scroll.x(t),this._y=o.scroll.y(t),this._xdir=0,this._ydir=0,this._scrollTimeout=e&&"scrollTimeout"in e&&"number"==typeof e.scrollTimeout?e.scrollTimeout:100,this._capturing=!1}var e,r,n=[];return Element.prototype.addEventListener?(e=function(t,o){t.addEventListener("scroll",o),n.push({handler:o})},r=function(t,o){if(o)t.removeEventListener("scroll",o);else for(var e=0,r=n.length;r>e;e++){var i=n[e];t.removeEventListener("scroll",i.handler)}}):(e=function(t,o){function e(e){e.target=e.srcElement,e.currentTarget=t,o.call(t,e)}t.attachEvent("onscroll",e),n.push({handler:o,wrapper:e})},r=function(t,o){if(o)for(var e=0,r=n.length;r>e;e++){var i=n[e];if(i.handler==o){this.detachEvent("onscroll",i.wrapper),n.splice(e,1);break}}else for(;n.length;){var i=n.pop();this.detachEvent("onscroll",i.wrapper)}}),o.scroll={x:function(t,e){if(!arguments.length)return void 0!==window.scrollX?window.scrollX:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;if("number"==typeof t){var r=t;t=e,e=r}return void 0===t&&(t=window),void 0===e?t===window?o.scroll.x():t.scrollLeft:(t===window?window.scrollTo(e,o.scroll.y()):t.scrollLeft=e,void 0)},y:function(t,e){if(!arguments.length)return void 0!==window.scrollY?window.scrollY:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if("number"==typeof t){var r=t;t=e,e=r}return void 0===t&&(t=window),void 0===e?t===window?o.scroll.y():t.scrollTop:(t===window?window.scrollTo(o.scroll.x(),e):t.scrollTop=e,void 0)}},o.prototype={capture:function(r){var n=this,i=this.el,l=o.scroll.x,s=o.scroll.y;this._x=l(i),this._y=s(i);var c=this._scrollTimeout?t(function(){n._xdir=0,n._ydir=0,r(i,n._x,n._y,n._xdir,n._ydir)},this._scrollTimeout):null;return e(this.el,function(){var t=n._x,o=n._y;n._x=l(i),n._y=s(i),n._xdir=n._x-t,n._ydir=n._y-o,r(i,n._x,n._y,n._xdir,n._ydir),c&&c()}),this._capturing=!0,this},release:function(){return this._capturing&&r(this.el),this._capturing=!1,this},x:function(t){return"number"==typeof t?(o.scroll.x(this.el,t),this):o.scroll.x(this.el)},y:function(t){return"number"==typeof t?(o.scroll.y(this.el,t),this):o.scroll.y(this.el)},xdir:function(){return this._xdir},ydir:function(){return this._ydir}},o});