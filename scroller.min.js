!function(e,o,t){"undefined"!=typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):o[e]=t()}("Scroller",this,function(){function e(o){this.el=o,this.x=e.scroll.x(o),this.y=e.scroll.y(o),this.xdir=0,this.ydir=0,this.capturing=!1}var o,t,n=[];return Element.prototype.addEventListener?(o=function(e,o){e.addEventListener("scroll",o),n.push({handler:o})},t=function(e,o){if(o)e.removeEventListener("scroll",o);else for(var t=0,r=n.length;r>t;t++){var l=r[t];e.removeEventListener("scroll",l.handler)}}):(o=function(e,o){function t(t){t.target=t.srcElement,t.currentTarget=e,o.call(e,t)}e.attachEvent("onscroll",t),n.push({handler:o,wrapper:t})},t=function(e,o){if(o)for(var t=0,r=n.length;r>t;t++){var l=n[t];if(l.handler==o){this.detachEvent("onscroll",l.wrapper),n.splice(t,1);break}}else for(;n.length;){var l=n.pop();this.detachEvent("onscroll",l.wrapper)}}),e.scroll={x:function(o,t){if(!arguments.length)return void 0!==window.scrollX?window.scrollX:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;if("number"==typeof o){var n=o;o=t,t=n}return void 0===o&&(o=window),void 0===t?o===window?e.scroll.x():o.scrollLeft:(o===window?window.scrollTo(t,e.scroll.y()):o.scrollLeft=t,void 0)},y:function(o,t){if(!arguments.length)return void 0!==window.scrollY?window.scrollY:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if("number"==typeof o){var n=o;o=t,t=n}return void 0===o&&(o=window),void 0===t?o===window?e.scroll.y():o.scrollTop:(o===window?window.scrollTo(e.scroll.x(),t):o.scrollTop=t,void 0)}},e.prototype={capture:function(t){var n=this,r=this.el,l=e.scroll.x,i=e.scroll.y;return this.x=l(r),this.y=i(r),o(this.el,function(){var e=n.x,o=n.y;n.x=l(r),n.y=i(r),n.xdir=n.x>e?1:n.x<e?-1:0,n.ydir=n.y>o?1:n.y<o?-1:0,t(r,n.x,n.y)}),this.capturing=!0,this},release:function(){return this.capturing&&t(this.el),this.capturing=!1,this},x:function(o){return o?(e.scroll.x(this.el,o),this):e.scroll.x(this.el)},y:function(o){return o?(e.scroll.y(this.el,o),this):e.scroll.y(this.el)}},e});