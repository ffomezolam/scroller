!function(e,t,o){"undefined"!=typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd?define(o):t[e]=o()}("Scroller",this,function(){function e(t){this.el=t,this.x=e.scroll.x(t),this.y=e.scroll.y(t),this.xdir=0,this.ydir=0,this.capturing=!1}var t,o,n=[];return Element.prototype.addEventListener?(t=function(e,t){e.addEventListener("scroll",t),n.push({handler:t})},o=function(e,t){if(t)e.removeEventListener("scroll",t);else for(var o=0,r=n.length;r>o;o++){var i=r[o];e.removeEventListener("scroll",i.handler)}}):(t=function(e,t){function o(o){o.target=o.srcElement,o.currentTarget=e,t.call(e,o)}e.attachEvent("onscroll",o),n.push({handler:t,wrapper:o})},o=function(e,t){if(t)for(var o=0,r=n.length;r>o;o++){var i=n[o];if(i.handler==t){this.detachEvent("onscroll",i.wrapper),n.splice(o,1);break}}else for(;n.length;){var i=n.pop();this.detachEvent("onscroll",i.wrapper)}}),e.scroll={x:function(t,o){if(!arguments.length)return void 0!==window.scrollX?window.scrollX:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;if("number"==typeof t){var n=t;t=o,o=n}return void 0===t&&(t=window),void 0===o?t===window?e.scroll.x():t.scrollLeft:(t===window?window.scrollTo(o,e.scroll.y()):t.scrollLeft=o,void 0)},y:function(t,o){if(!arguments.length)return void 0!==window.scrollY?window.scrollY:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;if("number"==typeof t){var n=t;t=o,o=n}return void 0===t&&(t=window),void 0===o?t===window?e.scroll.y():t.scrollTop:(t===window?window.scrollTo(e.scroll.x(),o):t.scrollTop=o,void 0)}},e.prototype={capture:function(o){var n=this,r=this.el,i=e.scroll.x,l=e.scroll.y;return this.x=i(r),this.y=l(r),t(this.el,function(){var e=n.x,t=n.y;n.x=i(r),n.y=l(r),n.xdir=n.x>e?1:n.x<e?-1:0,n.ydir=n.y>t?1:n.y<t?-1:0,o(r,n.x,n.y)}),this.capturing=!0,this},release:function(){return this.capturing&&o(this.el),this.capturing=!1,this},x:function(t){return t?(e.scroll.x(this.el,t),this):e.scroll.x(this.el)},y:function(t){return t?(e.scroll.y(this.el,t),this):e.scroll.y(this.el)},xdir:function(){return this.xdir},ydir:function(){return this.ydir}},e});